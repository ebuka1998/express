let express,bodyParser,databaseConnect,cors,config,router;_0dc‍.w("express",[["default",["express"],function(v){express=v}]]);_0dc‍.w("body-parser",[["default",["bodyParser"],function(v){bodyParser=v}]]);_0dc‍.w("./database",[["databaseConnect",["databaseConnect"],function(v){databaseConnect=v}]]);_0dc‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_0dc‍.w("./config",[["default",["config"],function(v){config=v}]]);_0dc‍.w("./router",[["router",["router"],function(v){router=v}]]);// ESM syntax is supported.







const app = express()

//app.use(cors())

databaseConnect()
//app.get('/', (req, res) => res.send('it works'))

app.use(bodyParser.json()) // read json
app.use(bodyParser.urlencoded({extended: true})) // read urls

app.use((req, res, next) => {
    res.header("Access-Control-Allow-Origin", "*")
    res.header("Access-Control-Allow-Methods", "GET, PUT, PATCH, POST, OPTIONS, DELETE")
    res.header("Access-Control-Allow-Headers", "Accept,Accept-Language,Content-Language,Content-Type")
    //res.header("Access-Control-Allow-Origin", "localhost:3100 ")
    next()
})
//app.use(function(req, res, next) { res.header("Access-Control-Allow-Origin", "localhost:3000")});


app.use('/', router)



const port = config.port
app.listen(port,() => console.log(`app has started on http://localhost:${port}`))

